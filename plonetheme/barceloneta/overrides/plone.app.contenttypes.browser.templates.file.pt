<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
    xmlns:tal="http://xml.zope.org/namespaces/tal"
    xmlns:metal="http://xml.zope.org/namespaces/metal"
    xmlns:i18n="http://xml.zope.org/namespaces/i18n"
    lang="en"
    metal:use-macro="context/@@main_template/macros/master"
    i18n:domain="plone">
<body>

<metal:content-core fill-slot="content-core">
<metal:block define-macro="content-core"
    tal:define="content_type context/file/contentType|nothing;
                download_url string:${context/absolute_url}/@@download/file/${context/file/filename}">

    <section id="section-details">
      <div class="file-info">
        <span class="meta-icon"
          tal:define="content_type context/file/contentType|nothing;
                      content_type_icon view/icon"
          tal:condition="content_type">
          <tal:icon tal:replace="structure python:icons.tag(content_type_icon, tag_class='', tag_alt='File')" />
        </span>
        <a class="" href="string:${context/absolute_url}/@@download/file/${context/file/filename}" tal:content="context/file/filename">Filename</a>
        <small class="meta-type text-muted">– <span i18n:translate="image_kind_label" tal:omit-tag="">Type</span>: <span tal:replace="content_type">image/jpeg</span></small>
        <small class="meta-size text-muted">– <span i18n:translate="image_size_label" tal:omit-tag="">Size</span>: <span tal:define="size context/file/getSize" tal:content="size">1000</span> kB</small>
      </div>
  </section>

  <tal:comment="nothing">

  <video tal:condition="view/is_videotype" controls="controls">
    <source tal:attributes="src download_url; type content_type"></source>
  </video>

  <audio tal:condition="view/is_audiotype" controls="controls">
    <source tal:attributes="src download_url; type content_type"></source>
  </audio>

  <div tal:condition="python: content_type.startswith('text')">
    <h2 i18n:translate="heading_file_contents">File contents</h2>
    <pre tal:content="context/file/data|nothing" />
  </div>

  <tal:comment/>

</metal:block>
</metal:content-core>

</body>
</html>
